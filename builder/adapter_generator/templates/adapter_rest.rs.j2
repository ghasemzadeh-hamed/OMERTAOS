use serde::{Deserialize, Serialize};

#[derive(Serialize, Deserialize)]
pub struct AdapterInput {
    pub params: serde_json::Value,
}

#[derive(Serialize, Deserialize)]
pub struct AdapterOutput {
    pub result: serde_json::Value,
}

pub fn index(input: AdapterInput) -> AdapterOutput {
    let mut payload = input.params.clone();
    payload["endpoint"] = serde_json::Value::String("{{ spec.endpoint }}".into());
    AdapterOutput { result: payload }
}
